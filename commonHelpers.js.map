{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst apiKey = '42006022-41a20d969efbb704c546dcbcd';\n\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\nconst loadingIndicator = document.getElementById('loading-indicator');\nconst galleryContainer = document.getElementById('gallery-container');\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const searchTerm = searchInput.value.trim();\n\n  if (searchTerm === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  showLoadingIndicator();\n  clearGallery();\n\n  fetch(`https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(searchTerm)}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => response.json())\n    .then(responseData => {\n      if (responseData.hits.length === 0) {\n        iziToast.info({\n          message: 'Sorry, there are no images matching your search query. Please try again.',\n          position: 'topRight',\n          color: '#EF4040',\n          progressBarColor: '#B51B1B',\n          messageColor: '#FAFAFB',\n          icon: './img/bi_x-octagon.svg',\n        });\n      } else {\n        updateGallery(responseData.hits);\n      }\n\n      hideLoadingIndicator();\n    })\n    .catch(error => {\n      console.error('Error fetching data:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching data. Please try again.',\n      });\n      hideLoadingIndicator();\n    });\n}\n\nfunction showLoadingIndicator() {\n  loadingIndicator.classList.remove('hidden');\n}\n\nfunction hideLoadingIndicator() {\n  loadingIndicator.classList.add('hidden');\n}\n\nfunction clearGallery() {\n  galleryContainer.innerHTML = '';\n}\n\nfunction updateGallery(images) {\n  const lightbox = new SimpleLightbox('.gallery-item a');\n\n  images.forEach((image) => {\n    const galleryItem = document.createElement('div');\n    galleryItem.classList.add('gallery-item');\n\n    const imageLink = document.createElement('a');\n    imageLink.href = image.largeImageURL;\n\n    const imageElement = document.createElement('img');\n    imageElement.src = image.webformatURL;\n    imageElement.alt = image.tags;\n    imageElement.title = image.tags;\n\n    imageLink.appendChild(imageElement);\n    galleryItem.appendChild(imageLink);\n\n    galleryContainer.appendChild(galleryItem);\n  });\n\n  lightbox.refresh();\n}"],"names":["apiKey","searchForm","searchInput","loadingIndicator","galleryContainer","handleSearch","event","searchTerm","iziToast","showLoadingIndicator","clearGallery","response","responseData","updateGallery","hideLoadingIndicator","error","images","lightbox","SimpleLightbox","image","galleryItem","imageLink","imageElement"],"mappings":"6vBAKA,MAAMA,EAAS,qCAETC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAmB,SAAS,eAAe,mBAAmB,EAC9DC,EAAmB,SAAS,eAAe,mBAAmB,EAEpEH,EAAW,iBAAiB,SAAUI,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAaL,EAAY,MAAM,KAAI,EAEzC,GAAIK,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAEDC,IACAC,IAEA,MAAM,gCAAgCV,CAAM,MAAM,mBAAmBO,CAAU,CAAC,0DAA0D,EACvI,KAAKI,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAgB,CAChBA,EAAa,KAAK,SAAW,EAC/BJ,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,WACV,MAAO,UACP,iBAAkB,UAClB,aAAc,UACd,KAAM,wBAChB,CAAS,EAEDK,EAAcD,EAAa,IAAI,EAGjCE,GACN,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CP,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0DACjB,CAAO,EACDM,GACN,CAAK,CACL,CAEA,SAASL,GAAuB,CAC9BN,EAAiB,UAAU,OAAO,QAAQ,CAC5C,CAEA,SAASW,GAAuB,CAC9BX,EAAiB,UAAU,IAAI,QAAQ,CACzC,CAEA,SAASO,GAAe,CACtBN,EAAiB,UAAY,EAC/B,CAEA,SAASS,EAAcG,EAAQ,CAC7B,MAAMC,EAAW,IAAIC,EAAe,iBAAiB,EAErDF,EAAO,QAASG,GAAU,CACxB,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,KAAOF,EAAM,cAEvB,MAAMG,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,IAAMH,EAAM,aACzBG,EAAa,IAAMH,EAAM,KACzBG,EAAa,MAAQH,EAAM,KAE3BE,EAAU,YAAYC,CAAY,EAClCF,EAAY,YAAYC,CAAS,EAEjCjB,EAAiB,YAAYgB,CAAW,CAC5C,CAAG,EAEDH,EAAS,QAAO,CAClB"}